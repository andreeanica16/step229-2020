<!DOCTYPE html>
<html>
  <head> 
    <meta charset="UTF-8">
    <title>Dataflow Data Analyser</title>
    <script id="configFile" type="text/javascript" src="config.js"></script>
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="script.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body onload="initBody();">
    <h1>Dataflow Service Analyser</h1>
    <p id="message-container"></p>
    <div id="dataButtons">
      <button class="button" onclick="updateProjectDatabase()">Fetch Info</button>
      <button class="button" onclick="getJobsFromProject(accessDataflowAPI.projectID)">Show info</button>
    </div>
    <form id="commentForm">
      <label for="aggregationMethod">Choose a variable to aggregate the data by:</label>
      <select id="aggregationMethod" name="aggregationMethod">
        <option value="jobName">Job Name</option>
        <option value="owner">Owner</option>
      </select>
      <button id="submitComment" type="input">Submit</button>
    </form>
    <div class="gridContainer">
      <!--Total cost of jobs within each aggregation.-->
      <!--Predicted cost of future jobs using floating averages.-->
      <div class="gridElement totalCost">
        <h2>Cost and Cost Estimation</h2>
        <div id="totalCost-container"></div>
      </div>
      <!--Comparison of number of failed jobs within each aggreation etc.-->
      <div class="gridElement failedJobs">
        <h2>Job Status Analsysis</h2>
        <div id="failedJobs-container"></div>
      </div>
      <!--Comparison of different SDKs being used - e.g. proportion of Java vs Python etc.-->
      <!--Analysis on number of outdated SDKs being used - perhaps list of jobs returned using outdated SDKS?-->
      <div class="gridElement sdkAnalysis">  
        <h2>SDK Analysis</h2>
        <div id="sdk-Analysis"></div>
      </div>
      <!--Analysis of various resource metrics e.g. vCPU count, memory, SSD/HDD comparison.-->
      <div class="gridElement resourceAnalysis">
        <h2>Resource Analysis</h2>
        <div id=""></div>
      </div>
      <!--Map here showing where the different jobs are being run as a visual representation.-->
      <!--Perhaps basic analysis e.g. region where most are run, region where most fail etc.-->
      <div class="gridElement locationAnalysis">
        <h2>Location Analysis</h2>
        <div id=""></div>
      </div>
    </div>
    <table id = "jobs" hidden>
      <tr> 
        <th> Name </th>
        <th> ID </th>
        <th> Type </th>
        <th> State </th>
        <th> State Time </th>
        <th> SDK </th>
        <th> Region </th>
        <th> Current Workers </th>
        <th> Start Time </th>
        <th> VCPU Time </th>
        <th> Memory Time </th>
        <th> HDD Disk Time </th>
        <th> SSD Disk Time </th>
        <th> VCPU Countr </th>
        <th> Total Streaming Data </th>
        <th> Price </th>
      </tr>
    </table>
  </body>
</html>
